@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model Opus.Models.ViewModels.Accounting.IdentificationIndexVM
<style>
    div.btn-group.bootstrap-select.mb-20.me-10 {
        max-width: 400px;
    }

    .form-select {
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
        padding-left: 1rem;
        font-size: 1rem;
        max-width: 400px;
        background-color: #2aa377;
        color: white;
        border: 1px solid #ccc !important;
        text-indent: 5px !important;
        /*box-shadow: 0 1px 5px 0 rgba(0,0,0,.21) !important;*/
    }

        .form-select:hover {
            transition: 1s;
        }

        .form-select option {
            background-color: mintcream;
            color: black;
            height: 40px !important;
        }

    option.selected {
        background-color: red !important;
        margin: 15px !important;
    }

    .sel-img {
        height: 20px;
        object-fit: cover;
    }

    .form-control:disabled, .form-control[readonly] {
        background-color: #FFFFFF;
        opacity: 1;
    }

    .box {
        transition: 0.5s linear all;
    }

    .theme-primary .nav-tabs .nav-link.active {
        border-bottom-color: #2aa377 !important;
        background-color: #2aa377 !important;
        color: #ffffff;
    }

    .zmdi-border-inner {
        border-color: #2aa377 !important;
    }

    .zmdi-border-col {
        max-width: 424px;
    }

    .inner-content-div {
        max-height: 400px !important;
        height: 400px !important;
    }
    
    .slimScrollDiv {
        max-height: 400px !important;
        height: auto !important;
    }
    
    .table {
        --bs-table-hover-bg: rgba(41, 163, 119, 0.25) !important;
        cursor: pointer !important;
        user-select: none !important; /* supported by Chrome and Opera */
        -webkit-user-select: none !important; /* Safari */
        -khtml-user-select: none !important; /* Konqueror HTML */
        -moz-user-select: none !important; /* Firefox */
        -ms-user-select: none !important; /* Internet Explorer/Edge */
    }

    .selected {
        background-color: #2aa377 !important;
        color: white !important;
    }

    .fa-exp-font {
        font-size: 21px;
        text-align: center;
        z-index: 9999;
    }

        .fa-exp-font:hover {
            transition: 0.5s;
            color: #35A7FF;
        }

    .fa-exp-font {
        transition: 0.5s;
        color: black;
    }
</style>



<div class="container-full">

    <div class="content-header">
        <div class="d-flex align-items-center">
            <div class="me-auto">
                <h3 class="page-title">Identifications</h3>
                <div class="d-inline-block align-items-center">
                    <nav>
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#"><i class="mdi mdi-home-outline"></i></a></li>
                            <li class="breadcrumb-item"><a asp-controller="Current" asp-action="Index">Companies</a></li>
                            <li class="breadcrumb-item active" aria-current="page">@Model.CompanyItem.Name - Identification</li>
                        </ol>
                    </nav>
                </div>
            </div>

        </div>
    </div>
    <section class="content">

        <div class="">
            @*
                <div class="box-header">
                    <div class="row">
                        <div class="row">
                            <div class="col-2">
                                <h5 class="my-10">Company</h5>
                            </div>
                            <div class="col-10">

                                <div id="select-comp">
                                    <select class="selectpicker mb-20 me-10" data-style="btn-white" id="company">

                                        @foreach (var item in Model.Companies)
                                        {
                                            if (item.Id == Model.CompanyItem.Id)
                                            {
                                                <option data-content="<img class='sel-img' src='/assets/accounting/company/@item.Id/img/@item.ImageFile'></img> @item.Name" value="@item.Id" selected></option>
                                            }
                                            else
                                            {
                                                <option data-content="<img class='sel-img' src='/assets/accounting/company/@item.Id/img/@item.ImageFile'></img> @item.Name" value="@item.Id"></option>
                                            }
                                        }
                                    </select>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            *@
            <div class="col-12">
                <div class="box">

                    <!-- /.box-header -->
                    <div class="box-body">
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs customtab" role="tablist">
                            <li class="nav-item"> <a class="nav-link waves-effect waves-dark active" data-bs-toggle="tab" href="#defTab" role="tab" aria-controls="defTab" draggable="false"><span class="hidden-sm-up"><i class="ion-home"></i></span> <span class="hidden-xs-down">Definitions</span></a> </li>
                            <li class="nav-item"> <a class="nav-link waves-effect waves-dark" data-bs-toggle="tab" href="#categoriesTab" role="tab" aria-controls="categoriesTab" draggable="false"><span class="hidden-sm-up"><i class="ion-person"></i></span> <span class="hidden-xs-down">Categories</span></a> </li>
                            @*
                                <li class="nav-item"> <a class="nav-link waves-effect waves-dark" data-bs-toggle="tab" href="#depTab" role="tab"><span class="hidden-sm-up"><i class="ion-person"></i></span> <span class="hidden-xs-down">Departmants</span></a> </li>
                                <li class="nav-item"> <a class="nav-link waves-effect waves-dark" data-bs-toggle="tab" href="#bankTab" role="tab"><span class="hidden-sm-up"><i class="ion-person"></i></span> <span class="hidden-xs-down">Banks</span></a> </li>
                            *@
                        </ul>
                        <!-- Tab panes -->
                        <div class="tab-content">

                            <div class="tab-pane active" id="defTab" role="tabpanel">
                                <div class="p-15">
                                    <form method="post" asp-area="Accounting" asp-action="DefinitionPost" asp-controller="Identification">
                                        <!--method="get" id="idsForm"-->

                                        <div class="row">
                                            <div class="col-2">
                                                <h5 class="my-10">Definition</h5>
                                            </div>
                                            <div class="col-10">
                                                <select class="selectpicker mb-20 me-10" data-style="btn-white" id="definition" asp-for="IdentificationTypeId" required>
                                                    <option value="" selected disabled class="d-none">Select</option>
                                                    @foreach (var item in Model.IdentificationType_Enumerable)
                                                    {
                                                        <option value="@item.Id">@item.Name</option>
                                                    }
                                                    @*
                                                        <option value="1">Supplier</option>
                                                        <option value="2">Customer</option>
                                                    *@
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row pb-20">
                                            <div class="col-2">
                                                <h5 class="my-10">Code: </h5>
                                            </div>
                                            <div class="col-10">
                                                <input class="form-control input-col" id="code" type="text" asp-for="IdentityCode" readonly="readonly" required />
                                                <input class="form-control d-none" id="idnum" type="text" asp-for="IdNumber" readonly="readonly" hidden />
                                                <input class="form-control d-none" type="text" asp-for="CompanyId" value="@Model.CompanyItem.Id" readonly="readonly" hidden />
                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-2">
                                                <h5 class="my-10">Commercial Title: </h5>
                                            </div>
                                            <div class="col-10">
                                                <input class="form-control input-col" asp-for="CommercialTitle" required />
                                            </div>
                                        </div>

                                        <div class="row pb-20">
                                            <div class="col-2">
                                                <h5 class="my-10">Street Address: </h5>
                                            </div>
                                            <div class="col-10">
                                                <textarea class="form-control input-col" placeholder="Street Address" asp-for="StreetAddress" required></textarea>
                                            </div>
                                        </div>


                                        <div class="row pb-15">
                                            <div class="col-2">
                                                <h5 class="my-10">Tax Authority: </h5>
                                            </div>
                                            <div class="col-10">
                                                <input class="form-control input-col" type="text" placeholder="Tax Authority" asp-for="TaxAuthority" required />
                                            </div>
                                        </div>

                                        <div class="row pb-15">
                                            <div class="col-2">
                                                <h5 class="my-10">Tax No: </h5>
                                            </div>
                                            <div class="col-10">
                                                <input class="form-control input-col" type="text" placeholder="Tax No" asp-for="TaxNo" required />
                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-2">
                                                <h5 class="my-10">Bank: </h5>
                                            </div>
                                            <div class="col-10">
                                                <select class="selectpicker mb-20 me-10" data-style="btn-white" id="commercial" asp-for="BankId" required>
                                                    <option value="" selected disabled class="d-none">Select</option>
                                                    @foreach (var item in Model.Bank_Enumerable)
                                                    {
                                                        <option value="@item.Id">@item.Name</option>
                                                    }
                                                    @*
                                                        <option value="1">Akbank</option>
                                                        <option value="2">TC Ziraat Bankası</option>
                                                        <option value="3">Türkiye İş Bankası</option>*@
                                                </select>
                                                <buttom class="btn btn-success" style="margin-top:-20px;" data-bs-toggle="modal" data-bs-target="#modal-fill"><i class="fa fa-plus-square" aria-hidden="true"></i></buttom>
                                            </div>
                                        </div>

                                        <div class="row pb-15">
                                            <div class="col-2">
                                                <h5 class="my-10">IBAN: </h5>
                                            </div>
                                            <div class="col-10">
                                                <input class="form-control input-col" type="text" placeholder="IBAN" asp-for="IBAN" data-inputmask="'mask':['TR99 9999 9999 9999 9999 9999 99']" data-mask="" required />@*data-inputmask="'mask':['AA99 9999 9999 9999 9999 9999 99']"*@
                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-2">
                                                <h5 class="my-10">Payment Terms: </h5>
                                            </div>
                                            <div class="col-10 my-10">
                                                <input type="checkbox" id="term30" class="filled-in chk-col-success" asp-for="Term30" />
                                                <label for="term30">30  &nbsp; &nbsp; &nbsp; &nbsp;</label>

                                                <input type="checkbox" id="term60" class="filled-in chk-col-success" asp-for="Term60" />
                                                <label for="term60">60 &nbsp; &nbsp; &nbsp; &nbsp;</label>

                                                <input type="checkbox" id="term90" class="filled-in chk-col-success" asp-for="Term90" />
                                                <label for="term90">90  &nbsp; &nbsp; &nbsp; &nbsp;</label>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-12">

                                            </div>
                                        </div>

                                        <section class="mb-20">
                                            <div class="box-body py-0">
                                                <div id="boxstate">
                                                    <div class="table-responsive">
                                                        <table class="table no-border" id="tab_def">
                                                            <thead>
                                                                <tr class="text-start">
                                                                    <th class="pt-10"> </th>
                                                                    <th class="pt-10"> </th>
                                                                    <th class="pt-10"> </th>
                                                                    <th class="pt-10"> </th>
                                                                    <th class="pt-10"> </th>
                                                                    <th class="pt-10"></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="tbody_def">
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="border-top border-bottom">
                                                <div class="row mt-4 mb-4">
                                                    <div class="col-2">
                                                        <h5 class="my-10">Contact: </h5>
                                                    </div>
                                                    <div class="col-10">
                                                        <div class="row">
                                                            <div class="col-xl-11 col-12">
                                                                <div class="row">
                                                                    <div class="col-xl-3 col-md-6 col-12 pb-10">
                                                                        <div class="rounded text-center">
                                                                            <input type="text" id="fullname" placeholder='Full Name' class="form-control input-col" />
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xl-3 col-md-6 col-12 pb-10">
                                                                        <div class="rounded text-center">
                                                                            <select class="form-select input-col" id="departmantid">
                                                                                <option value="" selected="selected" disabled class="d-none">Departmant</option>
                                                                                @foreach (var item in Model.Departmant_Enumerable)
                                                                                {
                                                                                    <option value="@item.Id">@item.Name</option>
                                                                                }
                                                                                @*
                                                                                    <option value="1">HR</option>
                                                                                    <option value="2">Accounting</option>
                                                                                    <option value="3">Management</option>
                                                                                    <option value="4">Quality Control Manager</option>*@
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xl-3 col-md-6 col-12 pb-10">
                                                                        <div class="rounded text-center">
                                                                            <input type="text" id="mobileNumber" class="form-control input-col" data-inputmask="'mask':[ '0(999) 999-9999']" data-mask="" placeholder="Mobile Number">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xl-3 col-md-6 col-12 pb-10">
                                                                        <div class="rounded text-center">
                                                                            <input type="email" id="email" placeholder='E-mail' class="form-control input-col" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-xl-1 col-12">
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <button id="add_defContact_row" type="button" class="btn btn-primary mb-10"><i class="fa fa-plus"></i></button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </section>

                                        <!--Definition List Section-->
                                        <section>
                                            <div class="table-responsive">
                                                <table class="table table-hover table-bordered table-striped dataTables" width="100%" id="deflist_table">
                                                    <thead>
                                                        <tr class="text-start">
                                                            <th class="d-none"></th>
                                                            <th class="d-none"></th>
                                                            <th>Definition</th>
                                                            <th>Code</th>
                                                            <th>Commercial Title</th>
                                                            <th>Street Address</th>
                                                            <th>Tax Authority</th>
                                                            <th>Tax No</th>
                                                            <th>Bank</th>
                                                            <th>IBAN</th>
                                                            <th style="width: 84px;">Payment Term</th>
                                                            <th></th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        @foreach (var item in Model.Identification_Enumerable)
                                                        {
                                                            <tr>
                                                                <td class="d-none">@item.Id</td>
                                                                <td class="d-none">@item.IdNumber</td>
                                                                <td>@item.IdentificationType.Name</td>
                                                                <td>@item.IdentityCode</td>
                                                                <td>@item.CommercialTitle</td>
                                                                <td>@item.StreetAddress</td>
                                                                <td>@item.TaxAuthority</td>
                                                                <td>@item.TaxNo</td>
                                                                <td>@item.Bank.Name</td>
                                                                <td>@item.IBAN</td>
                                                                <td class="text-center">@item.PaymentTerm</td>
                                                                @*<td class="text-center"><a href="/accounting/ids/@Model.CompanyItem.Id/edit-def/@item.Id" class="fa-exp-font"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a></td>*@
                                                                <td class="text-center"><a onclick="getDef('@item.Id')" class="fa-exp-font"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a></td>
                                                                <td class="text-center"><a href="/accounting/ids/@Model.CompanyItem.Id/remove-def/@item.Id" class="fa-exp-font"><i class="fa fa-trash fa-3" aria-hidden="true"></i></a></td>
                                                            </tr>
                                                        }
                                                    </tbody>
                                                </table>
                                            </div>

                                        </section>
                                        <!--Definition List Sectio-->
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>
                                        <div class="row"><div class="col-2"></div><div class="col-10"></div></div>


                                        <div class="row pt-50">
                                            <div class="col-12">
                                                <div style="float:right;">
                                                    <button class="btn btn-primary input-col">Submit</button>
                                                </div>
                                            </div>

                                        </div>


                                    </form>
                                </div>
                            </div>

                            <div class="tab-pane" id="categoriesTab" role="tabpanel">
                                <div class="p-15">
                                    <div id="categories-alert">
                                    </div>
                                    <div class="row">
                                        <div class="col-xl-4 col-12">
                                            <div class="box h-600">
                                                <div class="box-header with-border">
                                                    <div class="row">
                                                        <div class="col">
                                                            <h4 class="box-title">Main Category</h4>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-10">
                                                            <input class="form-control input-col mb-20 me-10" type="text" placeholder="Search" id="search_catlist" onkeyup="searchCat()" style="display: inline-block;" />
                                                        </div>
                                                        <div class="col">
                                                            <buttom class="btn btn-success waves-effect waves-light" style="" data-bs-toggle="modal" data-bs-target="#modal-setcat"><i class="fa fa-plus-square" aria-hidden="true"></i></buttom>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="box-body">
                                                    <div class="inner-content-div" style="max-height:420px!important; height:420px!important;">
                                                        <div class="table-responsive">
                                                            <table id="cat_table" class="table table-hover table-bordered display" style="width:100%">
                                                                <thead class="d-none">
                                                                    <tr>
                                                                        <th>title-1</th>
                                                                        <th style="width:0;">title-2</th>
                                                                    </tr>
                                                                </thead>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-12">
                                            <div class="box h-600">
                                                <div class="box-header with-border">
                                                    <div class="row">
                                                        <div class="col">
                                                            <h4 class="box-title" id="subcategory-title">Sub Category</h4>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-10">
                                                            <input class="form-control input-col mb-20 me-10" type="text" placeholder="Search" id="search_subCatlist" onkeyup="searchSubCat()" style="display: inline-block;" />
                                                        </div>
                                                        <div class="col">
                                                            <buttom class="btn btn-success waves-effect waves-light" style="" data-bs-toggle="modal" data-bs-target="#modal-setsubCat"><i class="fa fa-plus-square" aria-hidden="true"></i></buttom>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="box-body">
                                                    <div class="inner-content-div">
                                                        <div class="table-responsive">
                                                            <table id="subCat_table" class="table table-hover table-bordered display" style="width:100%">
                                                                <thead class="d-none">
                                                                    <tr>
                                                                        <th>title-1</th>
                                                                        <th style="width:0;">title-2</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody id="sub_tbody">
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-12">
                                            <div class="box h-600">
                                                <div class="box-header with-border">
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <h4 class="box-title">Tags</h4>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-10">
                                                            <input class="form-control input-col mb-20 me-10" type="text" placeholder="Search" id="search_taglist" onkeyup="searchTag()" style="display: inline-block;" />
                                                        </div>
                                                        <div class="col">
                                                            <buttom class="btn btn-success waves-effect waves-light" style="" data-bs-toggle="modal" data-bs-target="#modal-settag"><i class="fa fa-plus-square" aria-hidden="true"></i></buttom>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="box-body">
                                                    <div class="inner-content-div">
                                                        <div class="table-responsive">
                                                            <table id="tags_table" class="table table-hover table-bordered display" style="width:100%">
                                                                <thead class="d-none">
                                                                    <tr>
                                                                        <th>title-1</th>
                                                                        <th style="width:0;">title-2</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody id="tags_tbody">
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>

                            <div id="depTab" class="tab-pane">
                                <div class="p-15">
                                    <div class="row">
                                        <div class="col-xl-2 col-12">
                                            <h5 class="my-10">Search: </h5>
                                        </div>
                                        <div class="col-xl-10 col-12">
                                            <input class="form-control input-col" type="text" placeholder="Search Departmant" id="search_deplist" onkeyup="searchDepFunc()" />
                                        </div>
                                    </div>

                                    <div class="row mt-20">
                                        <div class="col-xl-2 col-12">
                                            <h5 class="my-10">Departmant List: </h5>
                                        </div>
                                        <div class="col-xl-10 col-12 zmdi-border-col">
                                            @*<input class="form-control input-col" type="text" placeholder="Departmant" />*@
                                            <div class="inner-content-div border zmdi-border-inner">
                                                <div class="table-responsive">
                                                    <table id="deps_table" class="table table-striped table-bordered display" style="width:100%">
                                                        <tr>
                                                            <td>Tiger Nixon</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Garrett Winters</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Ashton Cox</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Cedric Kelly</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Airi Satou</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Brielle Williamson</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Herrod Chandler</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Rhona Davidson</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Colleen Hurst</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Sonya Frost</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jena Gaines</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Quinn Flynn</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Charde Marshall</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Haley Kennedy</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Tatyana Fitzpatrick</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Michael Silva</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Paul Byrd</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Gloria Little</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Bradley Greer</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Dai Rios</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jenette Caldwell</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Yuri Berry</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Caesar Vance</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Doris Wilder</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Angelica Ramos</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Gavin Joyce</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jennifer Chang</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Brenden Wagner</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Fiona Green</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Shou Itou</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Michelle House</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Suki Burks</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Prescott Bartlett</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Buğra Kaya</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Gavin Cortez</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Martena Mccray</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Unity Butler</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Howard Hatfield</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Hope Fuentes</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Vivian Harrell</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Timothy Mooney</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jackson Bradshaw</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Olivia Liang</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Bruno Nash</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Sakura Yamamoto</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Thor Walton</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Finn Camacho</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Serge Baldwin</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Zenaida Frank</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Zorita Serrano</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jennifer Acosta</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Cara Stevens</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Hermione Butler</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Lael Greer</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jonas Alexander</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Shad Decker</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Michael Bruce</td>

                                                        </tr>
                                                        <tr>
                                                            <td>Donna Snider</td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div id="bankTab" class="tab-pane">
                                <div class="p-15">
                                    <div class="row">
                                        <div class="col-xl-2 col-12">
                                            <h5 class="my-10">Search: </h5>
                                        </div>
                                        <div class="col-xl-10 col-12">
                                            <input class="form-control input-col" type="text" placeholder="Bank" id="search_banklist" onkeyup="searchBankFunc()" />
                                        </div>
                                    </div>
                                    <div class="row mt-20">
                                        <div class="col-xl-2 col-12">
                                            <h5 class="my-10">Bank List: </h5>
                                        </div>
                                        <div class="col-xl-10 col-12 zmdi-border-col">
                                            @*<input class="form-control input-col" type="text" placeholder="Departmant" />*@
                                            <div class="inner-content-div border zmdi-border-inner">
                                                <div class="table-responsive">
                                                    <table id="banks_table" class="table table-striped table-bordered display" style="width:100%">
                                                        <tr>
                                                            <td>Tiger Nixon</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Garrett Winters</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Ashton Cox</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Cedric Kelly</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Airi Satou</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Brielle Williamson</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Herrod Chandler</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Rhona Davidson</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Colleen Hurst</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Sonya Frost</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jena Gaines</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Quinn Flynn</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Charde Marshall</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Haley Kennedy</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Tatyana Fitzpatrick</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Michael Silva</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Paul Byrd</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Gloria Little</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Bradley Greer</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Dai Rios</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jenette Caldwell</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Yuri Berry</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Caesar Vance</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Doris Wilder</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Angelica Ramos</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Gavin Joyce</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jennifer Chang</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Brenden Wagner</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Fiona Green</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Shou Itou</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Michelle House</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Suki Burks</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Prescott Bartlett</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Buğra Kaya</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Gavin Cortez</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Martena Mccray</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Unity Butler</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Howard Hatfield</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Hope Fuentes</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Vivian Harrell</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Timothy Mooney</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jackson Bradshaw</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Olivia Liang</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Bruno Nash</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Sakura Yamamoto</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Thor Walton</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Finn Camacho</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Serge Baldwin</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Zenaida Frank</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Zorita Serrano</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jennifer Acosta</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Cara Stevens</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Hermione Butler</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Lael Greer</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jonas Alexander</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Shad Decker</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Michael Bruce</td>

                                                        </tr>
                                                        <tr>
                                                            <td>Donna Snider</td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.box-body -->
                </div>
                <!-- /.box -->
            </div>




        </div>
    </section>


</div>

<form id="companyfrm" method="get"></form>

<!-- Modal -->
<div class="modal modal-fill fade" data-backdrop="false" id="modal-fill" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add a bank</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Bank Definition (Bank Name): </label>
                    <input type="text" id="bankinp" placeholder='AKBANK' class="form-control" />
                    <div class="col-2">

                    </div>
                    <div class="col-12">

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary float-end" id="add_bank_act" onclick=AddBank()>Add</button>
            </div>
        </div>
    </div>
</div>
<!-- /.modal -->
<!-- Modal -->
<div class="modal modal-fill fade" data-backdrop="false" id="modal-setcat" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add a category</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Category: </label>
                    <input type="text" id="setcatinp" placeholder='Category' class="form-control" />
                    <div class="col-2">

                    </div>
                    <div class="col-12">

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary float-end" onclick="setCat()">Add</button>
            </div>
        </div>
    </div>
</div>
<!-- /.modal -->
<!-- Modal -->
<div class="modal modal-fill fade" data-backdrop="false" id="modal-setsubCat" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="subcatmodal-title">Add a Sub-Category</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Sub-Category: </label>
                    <input type="text" id="setsubcatinp" placeholder='Sub-Category' class="form-control" />
                    <div class="col-2">

                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div id="submodal-alert"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary float-end" onclick="setSubCat()">Add</button>
            </div>
        </div>
    </div>
</div>
<!-- /.modal -->
<!-- Modal -->
<div class="modal modal-fill fade" data-backdrop="false" id="modal-settag" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="subcatmodal-title">Add a Tag</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Tag: </label>
                    <input type="text" id="settaginp" placeholder='Tag' class="form-control" />
                    <div class="col-2">

                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div id="tagmodal-alert"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary float-end" onclick="setTag()">Add</button>
            </div>
        </div>
    </div>
</div>
<!-- /.modal -->


<div class="main-window" style="display: none;">
    <div class="blurarea"></div>
    <!-- Draggable DIV -->
    <div id="dragabble-window" style="top: 1px; left: 40%; ">
        <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
        <div id="windowHeader">
            <div class="row">
                <div class="col-11"></div>
                <div class="col-1"><a onclick="toggleWindow()" class="toggle-wind-header float-right"><i class="fa fa-times" aria-hidden="true"></i></a></div>
            </div>
        </div>
        <div class="p-10">
            <div class="row">
                <div class="col-2">
                    <h5 class="my-10">Definition</h5>
                </div>
                <div class="col-10" style="max-width:430px;">
                    <select class="selectpicker mb-20 me-10" data-style="btn-white" id="definition_edit">
                        <option value="" selected disabled class="d-none">Select</option>
                        @foreach (var item in Model.IdentificationType_Enumerable)
                        {
                            <option value="@item.Id">@item.Name</option>
                        }
                    </select>
                </div>
            </div>

            <div class="row pb-20">
                <div class="col-2">
                    <h5 class="my-10">Code: </h5>
                </div>
                <div class="col-10">
                    <input class="form-control input-col" id="code_edit" type="text" readonly="readonly" />
                    <input class="form-control d-none" id="idnum_edit" type="text" readonly="readonly" hidden />
                    <input class="form-control d-none" id="compid_edit" type="text" readonly="readonly" hidden />
                </div>
            </div>


            <div class="row">
                <div class="col-2">
                    <h5 class="my-10">Commercial Title: </h5>
                </div>
                <div class="col-10">
                    <input class="form-control input-col" id="commercialTitle_edit" />
                </div>
            </div>

            <div class="row pb-20">
                <div class="col-2">
                    <h5 class="my-10">Street Address: </h5>
                </div>
                <div class="col-10">
                    <textarea class="form-control input-col" placeholder="Street Address" id="streetAddress_edit"></textarea>
                </div>
            </div>


            <div class="row pb-15">
                <div class="col-2">
                    <h5 class="my-10">Tax Authority: </h5>
                </div>
                <div class="col-10">
                    <input class="form-control input-col" type="text" placeholder="Tax Authority" id="taxAuthority_edit" />
                </div>
            </div>

            <div class="row pb-15">
                <div class="col-2">
                    <h5 class="my-10">Tax No: </h5>
                </div>
                <div class="col-10">
                    <input class="form-control input-col" type="text" placeholder="Tax No" id="taxNo_edit" />
                </div>
            </div>


            <div class="row">
                <div class="col-2">
                    <h5 class="my-10">Bank: </h5>
                </div>
                <div class="col-10" style="max-width:430px;">
                    <select class="selectpicker mb-20 me-10" data-style="btn-white" id="bank_edit">
                        <option value="" selected disabled class="d-none">Select</option>
                        @foreach (var item in Model.Bank_Enumerable)
                        {
                            <option value="@item.Id">@item.Name</option>
                        }
                    </select>
                </div>
            </div>

            <div class="row pb-15">
                <div class="col-2">
                    <h5 class="my-10">IBAN: </h5>
                </div>
                <div class="col-10">
                    <input class="form-control input-col" type="text" placeholder="IBAN" data-inputmask="'mask':['TR99 9999 9999 9999 9999 9999 99']" data-mask="" id="iban_edit" />
                </div>
            </div>


            <div class="row">
                <div class="col-2">
                    <h5 class="my-10">Payment Terms: </h5>
                </div>
                <div class="col-10 my-10">

                    <input type="checkbox" id="term30_edit" class="filled-in chk-col-success" />
                    <label for="term30_edit">30  &nbsp; &nbsp; &nbsp; &nbsp;</label>

                    <input type="checkbox" id="term60_edit" class="filled-in chk-col-success" />
                    <label for="term60_edit">60 &nbsp; &nbsp; &nbsp; &nbsp;</label>

                    <input type="checkbox" id="term90_edit" class="filled-in chk-col-success" />
                    <label for="term90_edit">90  &nbsp; &nbsp; &nbsp; &nbsp;</label>

                </div>
            </div>

        </div>


        <div class="p-10">
            <!--Contacts-->

            <div class="border-top border-bottom" style="pointer-events: none; opacity: 0.4;">
                <div class="row mt-1">
                    <div class="col-2">
                        <h5 class="my-10">Contact: </h5>
                    </div>
                    <div class="col-10">
                        <div class="row">
                            <div class="col-xl-10 col-12">
                                <div class="row">
                                    <div class="col-xl-3 col-md-6 col-12 pb-10">
                                        <div class="rounded text-center">
                                            <input type="text" id="fullname" placeholder='Full Name' class="form-control input-col" />
                                        </div>
                                    </div>
                                    <div class="col-xl-3 col-md-6 col-12 pb-10">
                                        <div class="rounded text-center">
                                            <select class="form-select input-col" id="departmantid">
                                                <option value="" selected="selected" disabled class="d-none">Departmant</option>
                                                @foreach (var item in Model.Departmant_Enumerable)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }
                                                @*
                                                <option value="1">HR</option>
                                                <option value="2">Accounting</option>
                                                <option value="3">Management</option>
                                                <option value="4">Quality Control Manager</option>*@
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-xl-3 col-md-6 col-12 pb-10">
                                        <div class="rounded text-center">
                                            <input type="text" id="mobileNumber" class="form-control input-col" data-inputmask="'mask':[ '0(999) 999-9999']" data-mask="" placeholder="Mobile Number">
                                        </div>
                                    </div>
                                    <div class="col-xl-3 col-md-6 col-12 pb-10">
                                        <div class="rounded text-center">
                                            <input type="email" id="email" placeholder='E-mail' class="form-control input-col" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-2 col-12">
                                <div class="row">
                                    <div class="col">
                                        <button id="add_defContact_row" type="button" class="btn btn-primary mb-10"><i class="fa fa-plus"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="row" id="contact_section">
            <div class="col-12">
                <div class="p-10">
                    <div class="box mb-0" va>
                        <div class="p-5">

                            <div class="inner-content-div" style="max-height: 150px !important; height: 150px; overflow: hidden; width: auto;" id="contact_list">
                                <p>Wrao the content inside a <code>.box-body .inner-content-div</code> Defoult height 200px.</p>

                                <p>Pellentesque scelerisque, massa ut fringilla mollis, sem tortor pharetra mi, non consequat velit dui sed lorem. Fusce commodo eros a vulputate accumsan. Nulla et mollis nibh. Donec sodales convallis urna luctus pulvinar. Ut vestibulum enim vitae elit luctus, id tincidunt metus suscipit. Pellentesque scelerisque, massa ut fringilla mollis, sem tortor pharetra mi, non consequat velit dui sed lorem.</p>

                                <p>Nulla et mollis nibh. Donec sodales convallis urna luctus pulvinar. Ut vestibulum enim vitae elit luctus, id tincidunt metus suscipit. Pellentesque scelerisque, massa ut fringilla mollis, sem tortor pharetra mi, non consequat velit dui sed lorem. Fusce commodo eros a vulputate accumsan. Nulla et mollis nibh. Donec sodales convallis urna luctus pulvinar. Ut vestibulum enim vitae elit luctus, id tincidunt metus suscipit. Pellentesque scelerisque, massa ut fringilla mollis, sem tortor pharetra mi, non consequat velit dui sed lorem.</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>


        <div class="row p-2">
            <div class="col-12">
                <button class="btn btn-info waves-effect waves-dark" type="button" style="float:right;" onclick="updateDefinition()" disabled>Save changes</button>
            </div>
        </div>
        <div class="row p-10">
            <div class="badge badge-warning shadow-2-strong">This section not ready yet.</div>
        </div>
    </div>
</div>



@section Scripts
{
    <script src="~/js/select-thumbnail.js"></script>
    <script src="~/js/ajax/accounting.js"></script>
    <script>
        /*var catTable = $('#cat_table').DataTable({ searching: false, paging: false, info: false });*/

        var catId = '';
        var catName = '';

        var subId = '';
        var subName = '';

        var tagId = "";
        var tagName = "";


        var catTable = $('#cat_table').DataTable({
                "ajax": {
                    "url": "/api/accounting/getCat",
                    dataSrc: ""
                },
                "columns": [
                    { "data": "name", "width": "100%" },
                    { "data": "id", "class": "d-none" }
                ],
                processing: true,
                serverSide: true,
                searching: false,
                paging: false,
                info: false

            });
        var subCatTable = $('#subCat_table').DataTable({
            searching: false,
            paging: false,
            info: false,

        });

        var tagTable = $('#tags_table').DataTable({
            searching: false,
            paging: false,
            info: false,

        });

        function setCat() {
            var category = $('#setcatinp').val();

            $.ajax({
                url: "/api/accounting/setCat",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(category),
                success: function (received) {
                    catTable.ajax.reload();

                    $('#modal-setcat').modal('toggle');
                    $('#setcatinp').val('');

                }
            });

        }

        function setSubCat() {
            if (catName == null || catName == '') {
                /*
                $('#modal-setsubCat').modal('toggle');
                $('#setcatinp').val('');*/

                /*$('#categories-alert').removeClass('d-none');*/
                $('#submodal-alert').html(`<div class="alert alert-warning alert-dismissible shadow-2-strong mt-20">
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                        <h4><i class="icon fa fa-ban"></i><label>Alert!</label> </h4>
                                        <label>You should select the main catergory first.</label>
                                    </div>`);
            }
            else {
                var subcat = $('#setsubcatinp').val();

                /*
                var model = {
                    name: "Shyju",
                    categoryId: "Detroit",
                    Interests: ["Code", "Coffee", "Stackoverflow"]
                };
                */
                var model = {
                    name: subcat,
                    categoryId: catId,
                    active:true
                };

                $.ajax({
                    url: "/api/accounting/setSubCat",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(model),
                    success: function (received) {
                        if (received) {
                            $('#modal-setsubCat').modal('toggle');
                            $('#setsubcatinp').val('');

                            subCatTable=$('#subCat_table').DataTable({
                                "ajax": {
                                    "url": "/api/accounting/getsubcat/" + catId,
                                    dataSrc: '',
                                },
                                "columns": [
                                    { "data": "name", "width": "100%" },
                                    { "data": "id", "class": "d-none" }
                                ],
                                processing: true,
                                serverSide: true,
                                searching: false,
                                paging: false,
                                info: false,
                                destroy: true,

                            });
                        }
                        else {
                            $('#submodal-alert').html(`<div class="alert alert-warning alert-dismissible shadow-2-strong mt-20">
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                        <h4><i class="icon fa fa-ban"></i><label>Fail!</label> </h4>
                                        <label>'`+ subcat +`' already been added before.</label>
                                    </div>`);
                        }


                    }
                });
            }

        }

        function setTag() {

            if (subName == null || subName == '') {
                /*
                $('#modal-setsubCat').modal('toggle');
                $('#setcatinp').val('');*/

                /*$('#categories-alert').removeClass('d-none');*/
                $('#tagmodal-alert').html(`<div class="alert alert-warning alert-dismissible shadow-2-strong mt-20">
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                        <h4><i class="icon fa fa-ban"></i><label>Alert!</label> </h4>
                                        <label>You should select the main catergory first.</label>
                                    </div>`);
            }
            else {
                var tag = $('#settaginp').val();

                /*
                var model = {
                    name: "Shyju",
                    categoryId: "Detroit",
                    Interests: ["Code", "Coffee", "Stackoverflow"]
                };
                */
                var model = {
                    name: tag,
                    categoryId: catId,
                    subCategoryId: subId,
                    active: true
                };

                $.ajax({
                    url: "/api/accounting/setTag",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(model),
                    success: function (received) {
                        if (received) {
                            $('#modal-settag').modal('toggle');
                            $('#setsubcatinp').val('');

                            tagTable = $('#tags_table').DataTable({
                                "ajax": {
                                    "url": "/api/accounting/gettags/" + subId,
                                    dataSrc: '',
                                },
                                "columns": [
                                    { "data": "name", "width": "100%" },
                                    { "data": "id", "class": "d-none" }
                                ],
                                processing: true,
                                serverSide: true,
                                searching: false,
                                paging: false,
                                info: false,
                                destroy: true,

                            });

                            $('#tags_table').removeClass("dataTable");
                        }
                        else {
                            $('#tagmodal-alert').html(`<div class="alert alert-warning alert-dismissible shadow-2-strong mt-20">
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                        <h4><i class="icon fa fa-ban"></i><label>Fail!</label> </h4>
                                        <label>'`+ tag + `' already been added before.</label>
                                    </div>`);
                        }


                    }
                });
            }

        }




        function AddBank() {
            var def = $('#bankinp').val();
            if (def == null || def === 'null' || def === '' || def.length === 0 || def === 'undefined' || def === '{}' || def.match(/^ *$/) !== null) {
                alert("bank name field is required.");
            }
            else
                alert("add bank func triggerd. Definition: " + def);
        }

        function searchDepFunc() {

            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("search_deplist");
            filter = input.value.toUpperCase();
            table = document.getElementById("deps_table");
            tr = table.getElementsByTagName("tr");
            if (filter == null || filter === 'null' || filter === '' || filter.length === 0 || filter === 'undefined' || filter === '{}' || filter.match(/^ *$/) !== null) {
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    tr[i].style.display = "";
                }
                if (filter.length < 1)
                    $('#search_deplist').removeClass('border-danger');
                else
                $('#search_deplist').addClass('border-danger');

            }
            else {
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                        } else {
                            tr[i].style.display = "none";
                        }
                    }
                }
            }


        }

        function searchBankFunc() {

            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("search_banklist");
            filter = input.value.toUpperCase();
            table = document.getElementById("banks_table");
            tr = table.getElementsByTagName("tr");
            if (filter == null || filter === 'null' || filter === '' || filter.length === 0 || filter === 'undefined' || filter === '{}' || filter.match(/^ *$/) !== null) {
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    tr[i].style.display = "";
                }
                if (filter.length < 1)
                    $('#search_banklist').removeClass('border-danger');
                else
                    $('#search_banklist').addClass('border-danger');

            }
            else {
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                        } else {
                            tr[i].style.display = "none";
                        }
                    }
                }
            }
        }

        $(document).ready(function () {
            var test = `<div class="btn-group bootstrap-select mb-20 me-10"><button type="button" class="btn dropdown-toggle btn-white show" data-bs-toggle="dropdown" role="button" data-id="comps" title="Sed posuere metus vel maximus fringilla." aria-expanded="true"><span class="filter-option pull-left">Sed posuere metus vel maximus fringilla.</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button><div class="dropdown-menu open show" role="combobox" style="margin: 0px; position: absolute; inset: 0px auto auto 0px; transform: translate(0px, 36px);" data-popper-placement="bottom-start">
                    <ul class="dropdown-menu inner" role="listbox" aria-expanded="true">
                            <li data-original-index="0" class="selected">
                                <a tabindex="0" class="" data-tokens="Lorem" role="option" aria-disabled="false" aria-selected="true">
                                    <span class="text">Sed posuere metus vel maximus fringilla.</span><span class="glyphicon glyphicon-ok check-mark">
                                    </span>
                                </a>
                            </li>

                            <li data-original-index="1">
                                <a tabindex="0" class="" data-tokens="ipsum" role="option" aria-disabled="false" aria-selected="false">
                                    <span class="text">Nam in nisl a ligula semper euismod.</span><span class="glyphicon glyphicon-ok check-mark">
                                    </span>
                                </a>
                            </li>

                            <li data-original-index="2">
                                <a tabindex="0" class="" data-tokens="dolor" role="option" aria-disabled="false" aria-selected="false">
                                    <span class="text">Ut rhoncus diam et elit tristique venenatis.</span><span class="glyphicon glyphicon-ok check-mark">
                                    </span>
                                </a>
                            </li>
                    </ul></div><select class="selectpicker mb-20 me-10" data-style="btn-white" id="comps" tabindex="-98">

                                <option data-tokens="Lorem">Sed posuere metus vel maximus fringilla.</option>
                                <option data-tokens="ipsum">Nam in nisl a ligula semper euismod.</option>
                                <option data-tokens="dolor">Ut rhoncus diam et elit tristique venenatis.</option>
                            <option data-tokens="4955e8b7-33ad-429e-107c-08da2f601faa">Many Points</option><option data-tokens="22bdc8ad-1fbe-437d-3486-08da2f638e84">Expert Quality Services</option></select></div>`;
            $('#search_subCatlist').attr('disabled', 'disabled');
            //$('#subcat-toggle').attr('disabled', 'disabled');
            $('#subcat-toggle').attr("disabled", true);
            $('#subcategory-title').html("Sub Category - (Main was not selected)");
            var options = ``;
            var selectopts = ``;
            var button = `<button type="button" class="btn dropdown-toggle btn-white" data-bs-toggle="dropdown" role="button" data-id="comps" title="`+'@Model.CompanyItem.Name'+`"><span class="filter-option pull-left">`+'@Model.CompanyItem.Name'+`</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button>`;
            $.ajax({
                url: '/api/accounting/get-comps',
                success: function (data) {
                    $.each(data, function (i, val) {
                        if (val.id == '@Model.CompanyItem.Id.ToString()') {
                            options += `<li data-original-index="`+i+`" class="selected">
                                <a tabindex="0" class="" data-tokens="`+val.id+`" role="option" aria-disabled="false" aria-selected="true">
                                    <span class="text">`+val.name+`</span><span class="glyphicon glyphicon-ok check-mark">
                                    </span>
                                </a>
                            </li>`;
                            selectopts += `<option data-tokens="` + val.id + `">` + val.name + `</option>`;
                        }
                        else {
                            options += `<li data-original-index="` + i + `">
                                <a tabindex="0" class="" data-tokens="`+ val.id + `" role="option" aria-disabled="false" aria-selected="false">
                                    <span class="text">`+ val.name + `</span><span class="glyphicon glyphicon-ok check-mark">
                                    </span>
                                </a>
                            </li>`;
                            selectopts += `<option data-tokens="` + val.id + `">` + val.name + `</option>`;
                        }

                        /*options += `<option data-tokens=" + val.id + ">" + val.name + "</option>"`;*/
                        /*
                        $("#comps").after()
                        $("#comps").append("<option data-tokens=" + val.id + ">" + val.name + "</option>");*/
                    });
                    var compHtlm = `<div class="btn-group bootstrap-select mb-20 me-10">`+button+`
                                        <div class="dropdown-menu open" role="combobox">
                    <ul class="dropdown-menu inner" role="listbox" aria-expanded="false">
`+options+`
                    </ul></div><select class="selectpicker mb-20 me-10" data-style="btn-white" id="comps" tabindex="-98">`+selectopts+`</select></div>`;

                    $("#companies").html(compHtlm);
                }
            });

            $('#company').on('changed.bs.select', function (e, clickedIndex, isSelected, previousValue) {
                var val=$(this).val();
                $('#companyfrm').attr('action', "/accounting/ids/" + val).submit();
            });
            $('#definition').on('changed.bs.select', function (e, clickedIndex, isSelected, previousValue) {
                var val = $(this).val();
                $.ajax({
                    url: "/api/accounting/getDefCode/" + val+"/compCode/"+'@Model.CompanyItem.Id',
                    success: function (data) {
                        $("#code").val(data.identityCode);
                        $("#idnum").val(JSON.stringify(data.idNumber));
                    }
                });
            });

            $('#definition_edit').on('changed.bs.select', function (e, clickedIndex, isSelected, previousValue) {
                var val = $(this).val();
                /*var idNum = $('#idnum_edit').val();*/
                var idNum = $('#definition_edit').selectpicker('val', val);
                /*console.log(idNum);*/
                $.ajax({
                    url: "/api/accounting/getDefCode/" + val + "/compCode/" + '@Model.CompanyItem.Id',
                    success: function (data) {
                        /*
                        $("#code").val(data.identityCode);
                        $("#idnum").val(JSON.stringify(data.idNumber));*/

                        /*DEVELOPING!!!*/

                        let text = data.identityCode;
                        const myArray = text.split("-");
                        let def = myArray[0];


                        let text_num = $('#code_edit').val();
                        const arr_num = text_num.split("-");
                        let num = arr_num[1];

                        let idCode = def + "-" + num;

                        console.log(idCode);

                        $('#code_edit').val(idCode);



                    }
                });

            });

            selectCategory();
            $('#cat_table').removeClass("dataTable");
            $('#deflist_table').DataTable({
                searching: true,
                paging: true,
                info: true,
                ordering: true,
                order: [[1, 'asc']],
            });
        });
        function selectCategory() {
            $('#sub_tbody').html('');
            $('#tags_tbody').html('');
            $('#subCat_table').removeClass("dataTable");
            $('#tags_table').removeClass("dataTable");
            $('#cat_table tbody').on('click', 'tr', function () {
                $('#tags_tbody').html('');
                $('#tags_table').removeClass("dataTable");

                /*subCat_table*/
                /*modal-setsubCat*/
                /*setSubCat()*/
                catId = catTable.row(this).data().id;
                catName=catTable.row(this).data().name;
                subCatTable = $('#subCat_table').DataTable({
                    "ajax": {
                        "url": "/api/accounting/getsubcat/" + catId,
                        dataSrc: '',
                    },
                    "columns": [
                        { "data": "name", "width": "100%" },
                        { "data": "id", "class": "d-none" }
                    ],
                    processing: true,
                    serverSide: true,
                    searching: false,
                    paging: false,
                    info: false,
                    destroy:true,

                });

                $('#search_subCatlist').removeAttr('disabled');
                $('#subCat_table').removeClass("dataTable");
                $('#subcategory-title').html("Sub Category - (" + catName + ")");
                $('#categories-alert').html('');
                $('#submodal-alert').html('');
                $('#subcatmodal-title').html('Add a Sub-Category under '+catName);
                /*$(this).find(".selected td:first").html();*/


                var row = $(this);                 //cache the row

                if (!row.hasClass('selected')){
                    row.addClass('selected')       //add class to clicked row
                        .siblings()                //get the other rows
                        .removeClass('selected');  //remove their classes
                    /*gridClickHandler(row);*/
                }
            });


        }


        $('#subCat_table tbody').on('click', 'tr', function () {


            subId = subCatTable.row(this).data().id;
            subName = subCatTable.row(this).data().name;


            $('#tags_table').DataTable({
                "ajax": {
                    "url": "/api/accounting/gettags/" + subId,
                    dataSrc: '',
                },
                "columns": [
                    { "data": "name", "width": "100%" },
                    { "data": "id", "class": "d-none" }
                ],
                processing: true,
                serverSide: true,
                searching: false,
                paging: false,
                info: false,
                destroy: true,

            });

            $('#search_subCatlist').removeAttr('disabled');
            $('#subCat_table').removeClass("dataTable");
            $('#tags_table').removeClass("dataTable");
            $('#subcategory-title').html("Sub Category - (" + catName + ")");
            $('#categories-alert').html('');
            $('#submodal-alert').html('');
            $('#subcatmodal-title').html('Add a Sub-Category under ' + catName);
            /*$(this).find(".selected td:first").html();*/


            var row = $(this);                 //cache the row

            if (!row.hasClass('selected')) {
                row.addClass('selected')       //add class to clicked row
                    .siblings()                //get the other rows
                    .removeClass('selected');  //remove their classes
                /*gridClickHandler(row);*/
            }
        });

        $('#deflist_table tbody').on('click', 'tr', function () {
            /*

            subId = subCatTable.row(this).data().id;
            subName = subCatTable.row(this).data().name;

            console.log(JSON.stringify(subId));

            $('#search_subCatlist').removeAttr('disabled');
            $('#subCat_table').removeClass("dataTable");
            $('#tags_table').removeClass("dataTable");
            $('#subcategory-title').html("Sub Category - (" + catName + ")");
            $('#categories-alert').html('');
            $('#submodal-alert').html('');
            $('#subcatmodal-title').html('Add a Sub-Category under ' + catName);*/

            /*$(this).find(".selected td:first").html();*/


            var row = $(this);                 //cache the row

            if (!row.hasClass('selected')) {
                row.addClass('selected')       //add class to clicked row
                    .siblings()                //get the other rows
                    .removeClass('selected');  //remove their classes
                /*gridClickHandler(row);*/
            }

            var defId = row[0].cells[0].innerText;
            /*
            $.ajax({
                url: "/api/accounting/getDef/" + defId,
                type: "get",
                contentType: "application/json; charset=utf-8",
                success: function (received) {
                    console.log(received);
                }
            });
            */
        });

        $('#term30').click(function () {

            if ($(this).is(':checked')) {
                $('#term60').prop('checked', false);
                $('#term90').prop('checked', false);
            }
            else
                $('#term30').prop('checked', true);
        });
        $('#term60').click(function () {

            if ($(this).is(':checked')) {
                $('#term30').prop('checked', false);
                $('#term90').prop('checked', false);
            }
            else
                $('#term60').prop('checked', true);
        });
        $('#term90').click(function () {

            if ($(this).is(':checked')) {
                $('#term30').prop('checked', false);
                $('#term60').prop('checked', false);
            }
            else
                $('#term90').prop('checked', true);
        });

        $('#term30_edit').click(function () {

            if ($(this).is(':checked')) {
                $('#term60_edit').prop('checked', false);
                $('#term90_edit').prop('checked', false);
            }
            else
                $('#term30_edit').prop('checked', true);
        });
        $('#term60_edit').click(function () {

            if ($(this).is(':checked')) {
                $('#term30_edit').prop('checked', false);
                $('#term90_edit').prop('checked', false);
            }
            else
                $('#term60_edit').prop('checked', true);
        });
        $('#term90_edit').click(function () {

            if ($(this).is(':checked')) {
                $('#term30_edit').prop('checked', false);
                $('#term60_edit').prop('checked', false);
            }
            else
                $('#term90_edit').prop('checked', true);
        });

        function searchCat() {

            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("search_catlist");
            filter = input.value.toUpperCase();
            table = document.getElementById("cat_table");
            tr = table.getElementsByTagName("tr");
            if (filter == null || filter === 'null' || filter === '' || filter.length === 0 || filter === 'undefined' || filter === '{}' || filter.match(/^ *$/) !== null) {
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    tr[i].style.display = "";
                }
                if (filter.length < 1)
                    $('#search_catlist').removeClass('border-danger');
                else
                    $('#search_catlist').addClass('border-danger');

            }
            else {
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                        } else {
                            tr[i].style.display = "none";
                        }
                    }
                }
            }


        }
        function searchSubCat() {

            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("search_subCatlist");
            filter = input.value.toUpperCase();
            table = document.getElementById("subCat_table");
            tr = table.getElementsByTagName("tr");
            if (filter == null || filter === 'null' || filter === '' || filter.length === 0 || filter === 'undefined' || filter === '{}' || filter.match(/^ *$/) !== null) {
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    tr[i].style.display = "";
                }
                if (filter.length < 1)
                    $('#search_subCatlist').removeClass('border-danger');
                else
                    $('#search_subCatlist').addClass('border-danger');

            }
            else {
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                        } else {
                            tr[i].style.display = "none";
                        }
                    }
                }
            }


        }
        function searchTag() {

            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("search_taglist");
            filter = input.value.toUpperCase();
            table = document.getElementById("tags_table");
            tr = table.getElementsByTagName("tr");
            if (filter == null || filter === 'null' || filter === '' || filter.length === 0 || filter === 'undefined' || filter === '{}' || filter.match(/^ *$/) !== null) {
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    tr[i].style.display = "";
                }
                if (filter.length < 1)
                    $('#search_taglist').removeClass('border-danger');
                else
                    $('#search_taglist').addClass('border-danger');

            }
            else {
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                        } else {
                            tr[i].style.display = "none";
                        }
                    }
                }
            }


        }

        /*
        $(document).on('click', '[data-id="comps"]', function () {
            console.log("Comp select clicked");
            var deg = $('.select-comp div#bootstrap-select div#dropdown-menu ul#dropdown-menu li#selected').html();
            console.log(deg);
        });*/
    </script>
}